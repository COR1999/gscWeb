"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3276],{1150:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});let r=t(95155),a=t(12115),o=t(24437);function i(e){return{default:e&&"default"in e?e.default:e}}t(36552);let s={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},l=function(e){let n={...s,...e},t=(0,a.lazy)(()=>n.loader().then(i)),l=n.loading;function u(e){let i=l?(0,r.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,s=!n.ssr||!!n.loading,u=s?a.Suspense:a.Fragment,c=n.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(t,{...e})]}):(0,r.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(t,{...e})});return(0,r.jsx)(u,{...s?{fallback:i}:{},children:c})}return u.displayName="LoadableComponent",u}},8567:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=t(17828)},17828:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,t(64054).createAsyncLocalStorage)()},20063:(e,n,t)=>{var r=t(47260);t.o(r,"usePathname")&&t.d(n,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(n,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(n,{useSearchParams:function(){return r.useSearchParams}}),t.o(r,"useServerInsertedHTML")&&t.d(n,{useServerInsertedHTML:function(){return r.useServerInsertedHTML}})},24437:(e,n,t)=>{function r(e){let{reason:n,children:t}=e;return t}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),t(24553)},30926:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),!function(e,n){for(var t in n)Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}(n,{callServer:function(){return r.callServer},createServerReference:function(){return o.createServerReference},findSourceMapURL:function(){return a.findSourceMapURL}});let r=t(41209),a=t(85153),o=t(77197)},36552:(e,n,t)=>{function r(e){let{moduleIds:n}=e;return null}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PreloadChunks",{enumerable:!0,get:function(){return r}}),t(95155),t(47650),t(8567),t(77278)},45082:(e,n,t)=>{t.d(n,{default:()=>o});var r=t(95155);let a=(0,t(67909).default)(()=>t.e(4742).then(t.bind(t,64742)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/SanityLiveStream.js")]},ssr:!1});function o(e){return(0,r.jsx)(a,{...e})}},64054:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),!function(e,n){for(var t in n)Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}(n,{bindSnapshot:function(){return i},createAsyncLocalStorage:function(){return o},createSnapshot:function(){return s}});let t=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw t}getStore(){}run(){throw t}exit(){throw t}enterWith(){throw t}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function o(){return a?new a:new r}function i(e){return a?a.bind(e):r.bind(e)}function s(){return a?a.snapshot():function(e,...n){return e(...n)}}},67909:(e,n,t)=>{t.d(n,{default:()=>a.a});var r=t(86278),a=t.n(r)},72647:(e,n,t)=>{t.d(n,{default:()=>b});var r=t(95155),a=t(76096),o=t(50344),i=t(77525),s=t(67909),l=t(20063),u=t(12115),c=t(88106),d=t(99652);let f=(0,s.default)(()=>t.e(8218).then(t.bind(t,58218)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/PresentationComlink.js")]},ssr:!1}),v=(0,s.default)(()=>t.e(1598).then(t.bind(t,91598)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/RefreshOnMount.js")]},ssr:!1}),h=(0,s.default)(()=>t.e(1539).then(t.bind(t,91539)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/RefreshOnFocus.js")]},ssr:!1}),y=(0,s.default)(()=>t.e(7234).then(t.bind(t,17234)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/RefreshOnReconnect.js")]},ssr:!1});function g(e){var n;e instanceof a.u_?console.warn("Sanity Live is unable to connect to the Sanity API as the current origin - ".concat(window.origin," - is not in the list of allowed CORS origins for this Sanity Project."),e.addOriginUrl&&"Add it here:",null==(n=e.addOriginUrl)?void 0:n.toString()):console.error(e)}function p(e,n){n?console.warn("Sanity Live connection closed, switching to long polling set to a interval of",n/1e3,"seconds and the server gave this reason:",e.reason):console.error("Sanity Live connection closed, automatic revalidation is disabled, the server gave this reason:",e.reason)}function b(e){let{projectId:n,dataset:t,apiHost:s,apiVersion:b,useProjectHostname:m,token:k,requestTagPrefix:w,draftModeEnabled:S,draftModePerspective:j,refreshOnMount:_=!1,refreshOnFocus:P=!S&&(typeof window>"u"||window.self===window.top),refreshOnReconnect:O=!0,intervalOnGoAway:x=3e4,requestTag:L="next-loader.live",onError:M=g,onGoAway:R=p,revalidateSyncTags:T=o.Q}=e,E=(0,u.useMemo)(()=>(0,a.UU)({projectId:n,dataset:t,apiHost:s,apiVersion:b,useProjectHostname:m,ignoreBrowserTokenWarning:!0,token:k,useCdn:!1,requestTagPrefix:w}),[s,b,t,n,w,k,m]),[I,N]=(0,u.useState)(!1),C=(0,l.useRouter)(),A=(0,c.J)(e=>{"message"===e.type?T(e.tags).then(e=>{"refresh"===e&&C.refresh()}):"restart"===e.type||"reconnect"===e.type?C.refresh():"goaway"===e.type&&(R(e,x),N(x))});(0,u.useEffect)(()=>{let e=E.live.events({includeDrafts:!!k,tag:L}).subscribe({next:A,error:e=>{M(e)}});return()=>e.unsubscribe()},[E.live,M,L,k]),(0,u.useEffect)(()=>{S&&j?(0,d.NL)(j):(0,d.NL)("unknown")},[S,j]);let[F,q]=(0,u.useState)(!1);(0,u.useEffect)(()=>{if(!(0,i.vY)()){if(S&&k)return void(0,d.kN)("live");if(S)return void(0,d.kN)("static");(0,d.kN)("unknown")}},[S,k]),(0,u.useEffect)(()=>{if(!(0,i.vY)())return;let e=new AbortController,n=setTimeout(()=>(0,d.kN)("live"),3e3);return window.addEventListener("message",t=>{let{data:r}=t;r&&"object"==typeof r&&"domain"in r&&"sanity/channels"===r.domain&&"from"in r&&"presentation"===r.from&&(clearTimeout(n),(0,d.kN)((0,i.v$)()?"presentation-window":"presentation-iframe"),q(!0),e.abort())},{signal:e.signal}),()=>{clearTimeout(n),e.abort()}},[]);let W=(0,u.useRef)(void 0);return(0,u.useEffect)(()=>{if(S)return clearTimeout(W.current),()=>{W.current=setTimeout(()=>{console.warn("Sanity Live: Draft mode was enabled, but is now being disabled")})}},[S]),(0,u.useEffect)(()=>{if(!I)return;let e=setInterval(()=>C.refresh(),I);return()=>clearInterval(e)},[I,C]),(0,r.jsxs)(r.Fragment,{children:[S&&F&&(0,r.jsx)(f,{projectId:n,dataset:t,draftModeEnabled:S,draftModePerspective:j}),!S&&_&&(0,r.jsx)(v,{}),!S&&P&&(0,r.jsx)(h,{}),!S&&O&&(0,r.jsx)(y,{})]})}b.displayName="SanityLive"},77525:(e,n,t)=>{t.d(n,{Fk:()=>u,jF:()=>l,v$:()=>c,vY:()=>d});var r=t(61332);let a={"handshake/syn":r.Tx,"handshake/syn-ack":r.Rr,"handshake/ack":r.IM,"channel/response":r._K,"channel/heartbeat":r.vd,"channel/disconnect":r.FS,"overlay/focus":"visual-editing/focus","overlay/navigate":"visual-editing/navigate","overlay/toggle":"visual-editing/toggle","presentation/toggleOverlay":"presentation/toggle-overlay"},o={[r.Tx]:"handshake/syn",[r.Rr]:"handshake/syn-ack",[r.IM]:"handshake/ack",[r._K]:"channel/response",[r.vd]:"channel/heartbeat",[r.FS]:"channel/disconnect","visual-editing/focus":"overlay/focus","visual-editing/navigate":"overlay/navigate","visual-editing/toggle":"overlay/toggle","presentation/toggle-overlay":"presentation/toggleOverlay"},i=e=>{let{data:n}=e;return n&&"object"==typeof n&&"domain"in n&&"type"in n&&"from"in n&&"to"in n&&("sanity/channels"===n.domain&&(n.domain=r.V2),"overlays"===n.to&&(n.to="visual-editing"),"overlays"===n.from&&(n.from="visual-editing"),n.channelId=n.connectionId,delete n.connectionId,n.type=a[n.type]??n.type),e},s=({context:e},n)=>{let{sources:t,targetOrigin:a}=e,i=(e=>{let{channelId:n,...t}=e,a={...t,connectionId:n};return a.domain===r.V2&&(a.domain="sanity/channels"),"visual-editing"===a.to&&(a.to="overlays"),"visual-editing"===a.from&&(a.from="overlays"),a.type=o[a.type]??a.type,"channel/response"===a.type&&a.responseTo&&!a.data&&(a.data={responseTo:a.responseTo}),("handshake/syn"===a.type||"handshake/syn-ack"===a.type||"handshake/ack"===a.type)&&(a.data={id:a.connectionId}),a})(n.message);t.forEach(e=>{e.postMessage(i,{targetOrigin:a})})},l=()=>({listen:(0,r.CC)(i),requestMachine:(0,r.tP)().provide({actions:{"send message":s}})});function u(){return window.self!==window.top}function c(){return!!window.opener}function d(){return u()||c()}},86278:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});let r=t(28140)._(t(1150));function a(e,n){var t;let a={};"function"==typeof e&&(a.loader=e);let o={...a,...n};return(0,r.default)({...o,modules:null==(t=o.loadableGenerated)?void 0:t.modules})}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},98061:(e,n,t)=>{t.d(n,{default:()=>i});var r=t(95155),a=t(12115);let o=(0,a.lazy)(()=>Promise.all([t.e(6654),t.e(6678),t.e(3977),t.e(4460),t.e(7486),t.e(4112)]).then(t.bind(t,97486)));function i(e){return(0,r.jsx)(a.Suspense,{fallback:null,children:(0,r.jsx)(o,{...e})})}},99652:(e,n,t)=>{t.d(n,{El:()=>c,Hi:()=>l,NL:()=>o,kN:()=>s,lc:()=>d,sq:()=>u});let r=new Set,a="checking";function o(e){if(a!==e)for(let n of(a=e,r))n()}let i=new Set;function s(e){for(let e of i)e()}let l=new Set,u=null;function c(e){for(let n of(u=e,l))n()}function d(e,n){for(let e of l)e()}}}]);